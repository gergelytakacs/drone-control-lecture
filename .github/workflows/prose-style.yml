name: Test prose and style

on: [push]
jobs:
  set_up_system:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - name: Set up Python
      uses: actions/setup-python@v2
      with:
        python-version: 3.8
    - name: Install dependencies
      run: |
        python -m pip install --upgrade pip
        python -m pip install proselint
        sudo apt-get install aspell
    - name: Configure Proselint Exceptions
      run: |  
        #echo Proselint Exceptions:
        #cat etc/.proselintrc
        mv etc/config $LD_LIBRARY_PATH/python3.8/site-packages/proselint
        #mv etc/config $pythonLocation/bin/proselint
        cd $LD_LIBRARY_PATH/python3.8/site-packages/proselint
        dir
        #cat config
        #find / -name "proselint"
        #mv etc/.proselintrc ~/.proselintrc
        #cd ~
        #dir
        #cat .proselintrc

    - name: Test spelling (aspell)
      run: |
        aspell -t -d en_US list *.tex
    
    - name: Test prose (proselint)
      run: |
        proselint MagnetoShield_Journal.tex
      
        
        
#    - name: Install testing dependencies
#      run: |
#        python -m pip install -r requirements-dev.txt
#
 #   - name: Test style of python snippets of all book md files
  #    run: |
   #     inv stylecheck
    #- uses: actions/checkout@v2
    #- name: Install node
    #  uses: actions/setup-node@v1
    #  with:
     #   node-version: '12'
    #- name: Install alex - checker for inconsiderate / insensitive writing
     # run: |
      #  npm install alex --global
    #- name: Test prose of all book md files
     # run: |
     #   inv prosecheck
    #- name: Install aspell (spell checker)
     # run: |
      #  sudo apt-get install aspell aspell-en
    #- name: Run spell checker
     # run: |
      #  inv spellcheck
